<div class="sky">

  <!-- ===== Milky Way band (CSS-only layers) ===== -->
  <div class="milky-way" *ngIf="showMilkyWay">
    <div class="mw-glow"></div>
    <div class="mw-core"></div>
  </div>

  <!-- ===== Dense cluster stars along the Milky Way ===== -->
  <div *ngFor="let star of clusterStars"
    class="star cluster-star"
    [style.top.%]="star.y"
    [style.left.%]="star.x"
    [style.width.px]="star.size"
    [style.height.px]="star.size"
    [style.background]="star.color"
    [style.animation-delay.s]="star.delay"
    [style.animation-duration.s]="star.duration"
    [ngClass]="'layer-' + star.layer">
  </div>

  <!-- ===== Regular scattered stars ===== -->
  <div
    *ngFor="let star of stars"
    class="star"
    [style.top.%]="star.y"
    [style.left.%]="star.x"
    [style.width.px]="star.size"
    [style.height.px]="star.size"
    [style.background]="star.color"
    [style.animation-delay.s]="star.delay"
    [style.animation-duration.s]="star.duration"
    [ngClass]="'layer-' + star.layer">
  </div>

  <!-- ===== Moon with craters, maria & terminator ===== -->
  <div class="moon-system" *ngIf="showMoon">

    <!-- Outer atmospheric glow -->
    <div class="moon-halo"></div>

    <!-- Main moon sphere -->
    <div class="moon">
      <!-- Surface detail: maria (dark seas) + craters -->
      <div class="moon-maria"></div>
      <div class="moon-craters"></div>
      <div class="moon-craters-secondary"></div>
      <!-- Terminator shadow (day/night boundary) -->
      <div class="moon-terminator"></div>
      <!-- Limb darkening on the lit edge -->
      <div class="moon-limb"></div>
    </div>

    <!-- Asteroids orbiting nearby -->
    <div *ngFor="let ast of asteroids"
      class="asteroid"
      [style.transform]="'translate(' + ast.x + 'px, ' + ast.y + 'px) rotate(' + ast.rotation + 'deg)'"
      [style.width.px]="ast.size"
      [style.height.px]="ast.size"
      [style.border-radius]="ast.borderRadius"
      [style.animation-delay.s]="ast.delay">
    </div>
  </div>

</div>
